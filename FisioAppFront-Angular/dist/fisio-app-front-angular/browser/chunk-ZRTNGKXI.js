import{a as F,b as P,c as Y}from"./chunk-B6JTRMRK.js";import{a as w,b as T,d as E,e as I}from"./chunk-BV64I7NB.js";import{Ba as n,Bb as C,Ca as i,Ha as x,Ja as c,Ka as M,P as b,Q as g,Ta as a,Ua as y,Va as h,ab as O,da as s,db as j,fb as B,ha as u,la as _,pa as f,pc as k,qc as S,ta as p,ub as v,va as D,yb as N}from"./chunk-OSJLVL2X.js";var W=()=>["Dom","Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b"];function X(l,o){if(l&1&&(n(0,"div",13),a(1),i()),l&2){let e=o.$implicit;s(),h(" ",e," ")}}function Z(l,o){if(l&1){let e=x();n(0,"button",14),c("click",function(){let r=b(e).$implicit,d=M();return g(d.selectDate(r))}),a(1),i()}if(l&2){let e=o.$implicit;D("bg-primary",e.isSelected)("text-primary-foreground",e.isSelected)("text-muted-foreground",!e.belongsToMonth)("hover:bg-muted",e.enabled&&!e.isSelected)("cursor-not-allowed",!e.enabled)("opacity-50",!e.enabled),p("disabled",!e.enabled),s(),h(" ",e.date," ")}}var V=class l{constructor(o,e){this.dialogRef=o;this.data=e;this.selectedDate=e?.selectedDate||new Date,this.currentMonth=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth()),this.generateCalendarDays()}currentMonth=new Date;selectedDate;calendarDays=[];generateCalendarDays(){let o=this.currentMonth.getFullYear(),e=this.currentMonth.getMonth(),t=new Date(o,e,1),r=new Date(o,e+1,0),d=new Date(t);d.setDate(d.getDate()-t.getDay());let R=new Date;R.setHours(0,0,0,0),this.calendarDays=[];for(let A=0;A<42;A++){let m=new Date(d);m.setDate(m.getDate()+A);let J=m.getMonth()===e,L=m.toDateString()===R.toDateString(),G=m.toDateString()===this.selectedDate.toDateString();this.calendarDays.push({date:m.getDate(),fullDate:new Date(m),belongsToMonth:J,isToday:L,isSelected:G,enabled:!0})}}previousMonth(){this.currentMonth.setMonth(this.currentMonth.getMonth()-1),this.currentMonth=new Date(this.currentMonth),this.generateCalendarDays()}nextMonth(){this.currentMonth.setMonth(this.currentMonth.getMonth()+1),this.currentMonth=new Date(this.currentMonth),this.generateCalendarDays()}selectDate(o){o.enabled&&(this.selectedDate=o.fullDate,this.generateCalendarDays())}cancel(){this.dialogRef.close()}confirm(){this.dialogRef.close(this.selectedDate)}static \u0275fac=function(e){return new(e||l)(u(w),u(T))};static \u0275cmp=_({type:l,selectors:[["app-calendar-modal"]],decls:23,vars:7,consts:[[1,"w-full","max-w-sm","p-6"],["mat-dialog-title","",1,"text-2xl","font-bold","mb-6"],[1,"space-y-4"],[1,"flex","items-center","justify-between","mb-6"],["mat-icon-button","",1,"hover:bg-muted",3,"click"],[1,"text-lg","font-semibold"],[1,"grid","grid-cols-7","gap-2","mb-2"],["class","text-center text-xs font-semibold text-muted-foreground",4,"ngFor","ngForOf"],[1,"grid","grid-cols-7","gap-2"],["class","p-2 rounded-md text-sm font-medium transition-colors text-center",3,"disabled","bg-primary","text-primary-foreground","text-muted-foreground","hover:bg-muted","cursor-not-allowed","opacity-50","click",4,"ngFor","ngForOf"],[1,"flex","gap-3","pt-6","border-t","border-border"],["mat-stroked-button","",1,"flex-1",3,"click"],["mat-raised-button","","color","primary",1,"flex-1",3,"click"],[1,"text-center","text-xs","font-semibold","text-muted-foreground"],[1,"p-2","rounded-md","text-sm","font-medium","transition-colors","text-center",3,"click","disabled"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"h2",1),a(2,"Selecciona una fecha"),i(),n(3,"div",2)(4,"div",3)(5,"button",4),c("click",function(){return t.previousMonth()}),n(6,"mat-icon"),a(7,"chevron_left"),i()(),n(8,"h3",5),a(9),j(10,"date"),i(),n(11,"button",4),c("click",function(){return t.nextMonth()}),n(12,"mat-icon"),a(13,"chevron_right"),i()()(),n(14,"div",6),f(15,X,2,1,"div",7),i(),n(16,"div",8),f(17,Z,2,14,"button",9),i(),n(18,"div",10)(19,"button",11),c("click",function(){return t.cancel()}),a(20," Cancelar "),i(),n(21,"button",12),c("click",function(){return t.confirm()}),a(22," Aceptar "),i()()()()),e&2&&(s(9),y(B(10,3,t.currentMonth,"MMMM yyyy")),s(6),p("ngForOf",O(6,W)),s(2),p("ngForOf",t.calendarDays))},dependencies:[C,v,N,I,E,Y,P,F,S,k],encapsulation:2})};function ee(l,o){if(l&1){let e=x();n(0,"button",11),c("click",function(){let r=b(e).index,d=M();return g(d.selectMonth(r))}),a(1),i()}if(l&2){let e=o.$implicit,t=o.index,r=M();D("bg-primary",t===r.selectedMonth)("text-primary-foreground",t===r.selectedMonth)("hover:bg-muted",t!==r.selectedMonth)("border-primary",t===r.selectedMonth)("border-border",t!==r.selectedMonth),s(),h(" ",e," ")}}var $=class l{constructor(o,e){this.dialogRef=o;this.data=e;let t=e?.selectedDate||new Date;this.selectedYear=t.getFullYear(),this.selectedMonth=t.getMonth()}months=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];selectedYear;selectedMonth;previousYear(){this.selectedYear--}nextYear(){this.selectedYear++}selectMonth(o){this.selectedMonth=o}cancel(){this.dialogRef.close()}confirm(){let o=new Date(this.selectedYear,this.selectedMonth,1);this.dialogRef.close(o)}static \u0275fac=function(e){return new(e||l)(u(w),u(T))};static \u0275cmp=_({type:l,selectors:[["app-month-picker-modal"]],decls:20,vars:2,consts:[[1,"w-full","max-w-sm","p-6"],["mat-dialog-title","",1,"text-2xl","font-bold","mb-6"],[1,"space-y-4"],[1,"flex","items-center","justify-between","mb-6"],["mat-icon-button","",1,"hover:bg-muted",3,"click"],[1,"text-lg","font-semibold"],[1,"grid","grid-cols-3","gap-2","mb-4"],["class","p-3 rounded-md text-sm font-medium transition-colors text-center border-2",3,"bg-primary","text-primary-foreground","hover:bg-muted","border-primary","border-border","click",4,"ngFor","ngForOf"],[1,"flex","gap-3","pt-6","border-t","border-border"],["mat-stroked-button","",1,"flex-1",3,"click"],["mat-raised-button","","color","primary",1,"flex-1",3,"click"],[1,"p-3","rounded-md","text-sm","font-medium","transition-colors","text-center","border-2",3,"click"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"h2",1),a(2,"Selecciona un mes"),i(),n(3,"div",2)(4,"div",3)(5,"button",4),c("click",function(){return t.previousYear()}),n(6,"mat-icon"),a(7,"chevron_left"),i()(),n(8,"h3",5),a(9),i(),n(10,"button",4),c("click",function(){return t.nextYear()}),n(11,"mat-icon"),a(12,"chevron_right"),i()()(),n(13,"div",6),f(14,ee,2,11,"button",7),i(),n(15,"div",8)(16,"button",9),c("click",function(){return t.cancel()}),a(17," Cancelar "),i(),n(18,"button",10),c("click",function(){return t.confirm()}),a(19," Aceptar "),i()()()()),e&2&&(s(9),y(t.selectedYear),s(5),p("ngForOf",t.months))},dependencies:[C,v,I,E,Y,P,F,S,k],encapsulation:2})};export{V as a,$ as b};
